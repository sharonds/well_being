{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "DailyWellBeingRecord",
  "type": "object",
  "required": [
    "date",
    "score",
    "band",
    "metrics_raw",
    "metrics_norm",
    "weights_active",
    "contrib",
    "missing",
    "flags",
    "formula_version"
  ],
  "properties": {
    "date": {"type": "string", "pattern": "^\\d{4}-\\d{2}-\\d{2}$"},
    "compute_ts_utc": {"type": "integer", "minimum": 0},
    "score": {"type": "integer", "minimum": 0, "maximum": 100},
    "band": {"type": "string"},
    "metrics_raw": {"type": "object"},
    "metrics_norm": {"type": "object"},
    "weights_active": {"type": "object"},
    "contrib": {"type": "object"},
    "missing": {"type": "array", "items": {"type": "string"}},
    "flags": {"type": "object"},
    "formula_version": {"type": "string"},
    "run_mode": {"type": "string"},
    "error_codes": {"type": "array", "items": {"type": "string"}},
    "tz_offset_min": {"type": "integer"}
  }
}
